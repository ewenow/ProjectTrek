{"ast":null,"code":"import _objectSpread from \"/Users/ewelinanowicka/Desktop/ProjectTrekApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/ewelinanowicka/Desktop/ProjectTrekApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useState } from \"react\";\nimport { projectFirestore } from \"../firebase/firebase\";\nexport var useDocument = function useDocument(collection, id) {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    document = _useState2[0],\n    setDocument = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1]; // realtime document data\n  useEffect(function () {\n    var ref = projectFirestore.collection(collection).doc(id);\n    var unsubscribe = ref.onSnapshot(function (snapshot) {\n      // need to make sure the doc exists & has data\n      if (snapshot.data()) {\n        setDocument(_objectSpread({}, snapshot.data(), {\n          id: snapshot.id\n        }));\n        setError(null);\n      } else {\n        setError('No such document exists');\n      }\n    }, function (err) {\n      console.log(err.message);\n      setError('failed to get document');\n    });\n\n    // unsubscribe on unmount\n    return function () {\n      return unsubscribe();\n    };\n  }, [collection, id]);\n  return {\n    document: document,\n    error: error\n  };\n};","map":{"version":3,"names":["useEffect","useState","projectFirestore","useDocument","collection","id","_useState","_useState2","_slicedToArray","document","setDocument","_useState3","_useState4","error","setError","ref","doc","unsubscribe","onSnapshot","snapshot","data","_objectSpread","err","console","log","message"],"sources":["/Users/ewelinanowicka/Desktop/ProjectTrekApp/src/hooks/useDocument.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { projectFirestore } from \"../firebase/firebase\"\n\nexport const useDocument = (collection, id) => {\n    const [document, setDocument] = useState(null)\n    const [error, setError] = useState(null)\n\n    // realtime document data\n    useEffect(() => {\n        const ref = projectFirestore.collection(collection).doc(id)\n\n        const unsubscribe = ref.onSnapshot(snapshot => {\n            // need to make sure the doc exists & has data\n            if(snapshot.data()) {\n                setDocument({...snapshot.data(), id: snapshot.id})\n                setError(null)\n            }\n            else {\n                setError('No such document exists')\n            }\n        }, err => {\n            console.log(err.message)\n            setError('failed to get document')\n        })\n\n        // unsubscribe on unmount\n        return () => unsubscribe()\n\n    }, [collection, id])\n\n    return { document, error }\n}"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,gBAAgB,QAAQ,sBAAsB;AAEvD,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAIC,UAAU,EAAEC,EAAE,EAAK;EAAA,IAAAC,SAAA,GACXL,QAAQ,CAAC,IAAI,CAAC;IAAAM,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAvCG,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAAA,IAAAI,UAAA,GACFV,QAAQ,CAAC,IAAI,CAAC;IAAAW,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA,KAEtB;EACAZ,SAAS,CAAC,YAAM;IACZ,IAAMe,GAAG,GAAGb,gBAAgB,CAACE,UAAU,CAACA,UAAU,CAAC,CAACY,GAAG,CAACX,EAAE,CAAC;IAE3D,IAAMY,WAAW,GAAGF,GAAG,CAACG,UAAU,CAAC,UAAAC,QAAQ,EAAI;MAC3C;MACA,IAAGA,QAAQ,CAACC,IAAI,EAAE,EAAE;QAChBV,WAAW,CAAAW,aAAA,KAAKF,QAAQ,CAACC,IAAI,EAAE;UAAEf,EAAE,EAAEc,QAAQ,CAACd;QAAE,GAAE;QAClDS,QAAQ,CAAC,IAAI,CAAC;MAClB,CAAC,MACI;QACDA,QAAQ,CAAC,yBAAyB,CAAC;MACvC;IACJ,CAAC,EAAE,UAAAQ,GAAG,EAAI;MACNC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,OAAO,CAAC;MACxBX,QAAQ,CAAC,wBAAwB,CAAC;IACtC,CAAC,CAAC;;IAEF;IACA,OAAO;MAAA,OAAMG,WAAW,EAAE;IAAA;EAE9B,CAAC,EAAE,CAACb,UAAU,EAAEC,EAAE,CAAC,CAAC;EAEpB,OAAO;IAAEI,QAAQ,EAARA,QAAQ;IAAEI,KAAK,EAALA;EAAM,CAAC;AAC9B,CAAC"},"metadata":{},"sourceType":"module"}