{"ast":null,"code":"import _slicedToArray from \"/Users/ewelinanowicka/Desktop/ProjectTrekApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/ewelinanowicka/Desktop/ProjectTrekApp/src/routes/Dashboard.js\";\nimport React from \"react\";\nimport { useCollection } from '../hooks/useCollection';\nimport { useState } from 'react';\nimport { useAuthContext } from '../hooks/useAuthContext';\n\n// components\nimport ProjectList from '../components/ProjectList';\nimport ProjectFilter from './ProjectFilter';\nexport default function Dashboard() {\n  var _useAuthContext = useAuthContext(),\n    user = _useAuthContext.user;\n  var _useCollection = useCollection('projects'),\n    documents = _useCollection.documents,\n    error = _useCollection.error;\n  var _useState = useState('all'),\n    _useState2 = _slicedToArray(_useState, 2),\n    filter = _useState2[0],\n    setFilter = _useState2[1];\n  var changeFilter = function changeFilter(newFilter) {\n    setFilter(newFilter);\n  };\n  var projects = documents ? documents.filter(function (document) {\n    switch (filter) {\n      case 'all':\n        return true;\n      case 'mine':\n        var assignedToMe = false;\n        document.assignedUsersList.forEach(function (u) {\n          if (u.id === user.uid) {\n            assignedToMe = true;\n          }\n        });\n        return assignedToMe;\n      case 'development':\n      case 'design':\n      case 'sales':\n      case 'marketing':\n      case 'fashion':\n        console.log(document.category, filter);\n        return document.category === filter;\n      default:\n        return true;\n    }\n  }) : null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mt-8 p-2 overflow-auto\",\n    style: {\n      height: \"100vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, error && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 23\n    }\n  }, error), documents && /*#__PURE__*/React.createElement(ProjectFilter, {\n    changeFilter: changeFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 27\n    }\n  }), projects && /*#__PURE__*/React.createElement(ProjectList, {\n    projects: projects,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 26\n    }\n  }));\n}","map":{"version":3,"names":["React","useCollection","useState","useAuthContext","ProjectList","ProjectFilter","Dashboard","_useAuthContext","user","_useCollection","documents","error","_useState","_useState2","_slicedToArray","filter","setFilter","changeFilter","newFilter","projects","document","assignedToMe","assignedUsersList","forEach","u","id","uid","console","log","category","createElement","className","style","height","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/ewelinanowicka/Desktop/ProjectTrekApp/src/routes/Dashboard.js"],"sourcesContent":["import React from \"react\";\nimport { useCollection } from '../hooks/useCollection'\nimport { useState } from 'react'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n// components\nimport ProjectList from '../components/ProjectList'\nimport ProjectFilter from './ProjectFilter'\n\n\nexport default function Dashboard() {\n    const { user } = useAuthContext()\n    const { documents, error } = useCollection('projects')\n    const [filter, setFilter] = useState('all')\n\n    const changeFilter = (newFilter) => {\n        setFilter(newFilter)\n    }\n\n    const projects = documents ? documents.filter(document => {\n        switch(filter) {\n            case 'all':\n                return true\n            case 'mine':\n                let assignedToMe = false\n                document.assignedUsersList.forEach(u => {\n                    if(u.id === user.uid) {\n                        assignedToMe = true\n                    }\n                })\n                return assignedToMe\n            case 'development':\n            case 'design':\n            case 'sales':\n            case 'marketing':\n            case 'fashion':\n                console.log(document.category, filter)\n                return document.category === filter\n            default:\n                return true\n        }\n    }) : null\n\n    return (\n        <div className=\"text-center mt-8 p-2 overflow-auto\" style={{height: \"100vh\"}}>\n            {error && <p className=\"error\">{error}</p>}\n            {documents && <ProjectFilter changeFilter={changeFilter} />}\n            {projects && <ProjectList projects={projects} />}\n        </div>\n    )\n}"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,QAAQ,wBAAwB;AACtD,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,cAAc,QAAQ,yBAAyB;;AAExD;AACA,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,aAAa,MAAM,iBAAiB;AAG3C,eAAe,SAASC,SAASA,CAAA,EAAG;EAAA,IAAAC,eAAA,GACfJ,cAAc,EAAE;IAAzBK,IAAI,GAAAD,eAAA,CAAJC,IAAI;EAAA,IAAAC,cAAA,GACiBR,aAAa,CAAC,UAAU,CAAC;IAA9CS,SAAS,GAAAD,cAAA,CAATC,SAAS;IAAEC,KAAK,GAAAF,cAAA,CAALE,KAAK;EAAA,IAAAC,SAAA,GACIV,QAAQ,CAAC,KAAK,CAAC;IAAAW,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAApCG,MAAM,GAAAF,UAAA;IAAEG,SAAS,GAAAH,UAAA;EAExB,IAAMI,YAAY,GAAG,SAAfA,YAAYA,CAAIC,SAAS,EAAK;IAChCF,SAAS,CAACE,SAAS,CAAC;EACxB,CAAC;EAED,IAAMC,QAAQ,GAAGT,SAAS,GAAGA,SAAS,CAACK,MAAM,CAAC,UAAAK,QAAQ,EAAI;IACtD,QAAOL,MAAM;MACT,KAAK,KAAK;QACN,OAAO,IAAI;MACf,KAAK,MAAM;QACP,IAAIM,YAAY,GAAG,KAAK;QACxBD,QAAQ,CAACE,iBAAiB,CAACC,OAAO,CAAC,UAAAC,CAAC,EAAI;UACpC,IAAGA,CAAC,CAACC,EAAE,KAAKjB,IAAI,CAACkB,GAAG,EAAE;YAClBL,YAAY,GAAG,IAAI;UACvB;QACJ,CAAC,CAAC;QACF,OAAOA,YAAY;MACvB,KAAK,aAAa;MAClB,KAAK,QAAQ;MACb,KAAK,OAAO;MACZ,KAAK,WAAW;MAChB,KAAK,SAAS;QACVM,OAAO,CAACC,GAAG,CAACR,QAAQ,CAACS,QAAQ,EAAEd,MAAM,CAAC;QACtC,OAAOK,QAAQ,CAACS,QAAQ,KAAKd,MAAM;MACvC;QACI,OAAO,IAAI;IAAA;EAEvB,CAAC,CAAC,GAAG,IAAI;EAET,oBACIf,KAAA,CAAA8B,aAAA;IAAKC,SAAS,EAAC,oCAAoC;IAACC,KAAK,EAAE;MAACC,MAAM,EAAE;IAAO,CAAE;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACxE5B,KAAK,iBAAIX,KAAA,CAAA8B,aAAA;IAAGC,SAAS,EAAC,OAAO;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAE5B,KAAK,CAAK,EACzCD,SAAS,iBAAIV,KAAA,CAAA8B,aAAA,CAACzB,aAAa;IAACY,YAAY,EAAEA,YAAa;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAG,EAC1DpB,QAAQ,iBAAInB,KAAA,CAAA8B,aAAA,CAAC1B,WAAW;IAACe,QAAQ,EAAEA,QAAS;IAAAe,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAG,CAC9C;AAEd"},"metadata":{},"sourceType":"module"}